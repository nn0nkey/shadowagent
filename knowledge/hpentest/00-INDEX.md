# 渗透测试攻击库 - 完全索引

本知识库包含105个案例中提取的所有漏洞类型的通用化攻击指导，专注于实战攻击技巧，无防护建议。

## 📚 文档导航

### 🎯 快速开始
- **[快速参考-渗透测试检查清单](./快速参考-渗透测试检查清单.md)** ⭐ 从这里开始
  - 完整的漏洞检查流程
  - 所有漏洞类型的快速测试清单
  - 常见利用Payload库
  - 工具速查表

### 🔓 授权相关漏洞

#### IDOR - 不安全直接对象引用
- **[IDOR-攻击库](./IDOR-攻击库.md)**
  - 案例：001, 002, 003, 027, 043, 069
  - 方法1: URL参数ID枚举
  - 方法2: POST参数修改
  - 方法3: Cookie修改
  - 方法4: HTTP Header注入
  - 方法5: JWT令牌篡改
  - 间接IDOR攻击链

#### 权限提升 & 业务逻辑
- **[权限提升-业务逻辑-攻击库](./权限提升-业务逻辑-攻击库.md)**
  - 案例：052, 055, 069, 072
  - 隐藏字段篡改（案例052）
  - 参数篡改权限提升
  - Cookie与HTTP头篡改
  - 价格/金额操纵
  - 业务流程绕过
  - 支付逻辑绕过

### 💉 注入攻击

#### SQL注入
- **[SQL注入-攻击库](./SQL注入-攻击库.md)**
  - 案例：006, 029, 039
  - 布尔盲注Payload
  - UNION注入完整流程
  - 时间延迟盲注（MySQL/PostgreSQL/MSSQL）
  - 错误注入
  - 多种绕过技巧
  - SQLMap自动化命令

#### 命令注入
- **[命令注入-攻击库](./命令注入-攻击库.md)**
  - 案例：030, 031, 035, 037, 045, 068, 073
  - 命令分隔符（; | || & && ` $()）
  - Base64/Hex编码绕过
  - 环境变量绕过（${IFS}等）
  - 盲命令注入（时间延迟、DNS外带）
  - Reverse Shell Payload库
  - 无空格执行技巧

#### 模板注入 (SSTI)
- **[SSTI-模板注入-攻击库](./SSTI-模板注入-攻击库.md)**
  - 案例：022, 023, 044, 053
  - Django/Jinja2 Payload
  - Flask双花括号注入
  - Mako模板RCE
  - 获取subclasses的技巧
  - 盲SSTI检测
  - 通用RCE Payload

### 🔍 信息泄露

#### XSS - 跨站脚本攻击
- **[XSS-攻击库](./XSS-攻击库.md)**
  - 案例：004, 010, 013, 018, 047, 048, 049, 050, 051, 059, 062, 064, 065, 070等
  - 基础Payload（script, img, svg, body）
  - 20+种事件处理器
  - 字符编码绕过（String.fromCharCode, Base64, Hex, Unicode）
  - 大小写混淆
  - 正则表达式绕过
  - JSFuck极限绕过（仅[]()!+）
  - 数据窃取Payload
  - Cookie/localStorage窃取
  - 键盘记录

#### 文件包含 & 路径遍历
- **[文件包含-路径遍历-攻击库](./文件包含-路径遍历-攻击库.md)**
  - 案例：019, 022, 026, 028, 034, 061, 105
  - 基础路径遍历（../../../）
  - 编码绕过（%2e%2e%2f, 双编码, Unicode）
  - PHP wrapper协议（php://filter）
  - 日志文件包含 + 注入RCE
  - 双点号绕过（....//）
  - Apache CVE-2021-42013
  - Zip/Phar协议利用
  - 日志投毒完整RCE流程

#### XXE - XML外部实体注入
- **[XXE-攻击库](./XXE-攻击库.md)**
  - 案例：032
  - 文件读取Payload
  - 带外数据提取（OOB）
  - 盲XXE检测
  - XXE导致的SSRF
  - 编码绕过
  - 特殊协议利用（expect://, php://等）

#### GraphQL注入
- **[GraphQL-攻击库](./GraphQL-攻击库.md)**
  - 案例：038
  - GraphQL SQL注入
  - 授权绕过技巧
  - 信息泄露（错误消息）
  - Schema内省攻击
  - Mutation数据修改
  - 批量查询攻击

### 🌐 SSRF - 服务端请求伪造
- **[SSRF-攻击库](./SSRF-攻击库.md)**
  - 案例：020, 024, 033
  - 直接内部URL访问
  - file:// 协议读取本地文件
  - 127.0.0.1的多种表示形式
  - localhost变体绕过
  - DNS重绑定
  - URL解析差异
  - 编码绕过
  - 云服务元数据访问
  - 端口扫描技巧

### 📁 文件上传漏洞
- **[文件上传-攻击库](./文件上传-攻击库.md)**
  - 案例：041, 067
  - 任意文件上传RCE
  - 双扩展名绕过（.php.jpg）
  - 混合大小写绕过（.PHP）
  - 特殊字符绕过（%00, ::$DATA等）
  - Content-Type修改
  - 图片文件包含PHP
  - .htaccess执行配置
  - .user.ini PHP配置覆盖
  - 竞态条件利用
  - ZIP上传解压RCE

### 🔐 不安全反序列化
- **[反序列化-攻击库](./反序列化-攻击库.md)**
  - 案例：014, 036, 057
  
  **PHP反序列化 (案例014)**
  - Cookie序列化认证绕过
  - 序列化数据修改技巧
  
  **Python Pickle (案例036)**
  - 恶意Pickle文件生成
  - __reduce__方法RCE
  - 文件上传执行
  
  **Flask Cookie Pickle (案例057)**
  - Cookie反序列化攻击
  - 环境变量读取
  - 测试成功的Payload直接使用

### 🛡️ CVE & 已知漏洞
- **[CVE-攻击库](./CVE-攻击库.md)**
  
  **Apache CVE-2021-42013 (案例026)**
  - 路径遍历漏洞
  - .%2e目录遍历
  - 多层编码绕过
  
  **WordPress CVE-2023-6553 (案例030)**
  - Backup Migration插件LFI
  - 文件读取Payload
  - 命令注入Payload
  - 快速CVE识别方法

---

## 📊 漏洞类型统计

| 漏洞类型 | 案例数 | 难度 | 优先级 |
|---------|-------|------|-------|
| XSS | 16 | ⭐⭐ | 高 |
| IDOR | 8 | ⭐⭐ | 紧急 |
| SSTI | 4 | ⭐⭐⭐ | 紧急 |
| SQL注入 | 3 | ⭐⭐⭐ | 紧急 |
| 文件包含 | 7 | ⭐⭐⭐ | 紧急 |
| 命令注入 | 10 | ⭐⭐⭐ | 紧急 |
| SSRF | 3 | ⭐⭐ | 高 |
| 反序列化 | 3 | ⭐⭐⭐ | 紧急 |
| 权限提升 | 4 | ⭐⭐ | 高 |
| 文件上传 | 2 | ⭐⭐ | 高 |
| XXE | 1 | ⭐⭐⭐ | 高 |
| GraphQL | 1 | ⭐⭐ | 中 |
| CVE相关 | 2 | ⭐⭐⭐ | 紧急 |

---

## 🚀 使用方法

### 对于渗透测试Agent:

```
1. 执行快速参考检查清单进行初步漏洞识别
2. 根据识别的漏洞类型，定位对应的攻击库文档
3. 按照文档中的攻击步骤和Payload进行测试
4. 使用提供的Python/Bash脚本自动化利用
5. 记录成功的利用链和绕过技巧
```

### 推荐流程:

```
信息收集 → 漏洞识别 → 选择攻击库 → 测试利用 → 验证成功 → 深入利用
```

---

## 💡 关键特性

✅ **实战导向** - 所有Payload和技巧都来自真实案例  
✅ **通用化设计** - 不依赖特定框架或技术栈  
✅ **完整脚本** - 提供Python/Bash自动化利用脚本  
✅ **多种绕过** - 包含各种WAF/防护绕过技巧  
✅ **工具集成** - 支持curl, sqlmap, Burp Suite等  
✅ **快速查询** - 清单式设计，快速定位漏洞  

---

## 📖 文档统计

- 总文档数：14个
- 总行数：5000+
- Payload数：200+
- Python脚本：15+
- 覆盖案例：105个

---

## 🔗 相关资源

- **渗透测试快速参考**: `快速参考-渗透测试检查清单.md`
- **所有漏洞类型**: 按上方导航菜单查找
- **工具集成**: 各文档中都包含curl/Python/Bash示例

---

**最后更新**: 2025-11-16  
**版本**: 1.0  
**适用场景**: Penetration Testing / Web Application Security Assessment

